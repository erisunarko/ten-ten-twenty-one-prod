"use strict";(self["webpackChunkquasar"]=self["webpackChunkquasar"]||[]).push([[64],{5990:(t,e,l)=>{l.r(e),l.d(e,{default:()=>U});var o=l(3673),i=l(2323);const a={class:"q-pa-md",style:{height:"500px"}},s={class:"row justify-center q-my-md"},n=(0,o._)("span",{class:"q-ml-sm"},"Are you sure delete this post?",-1);function d(t,e,l,d,r,u){const m=(0,o.up)("q-item-label"),p=(0,o.up)("q-item-section"),c=(0,o.up)("q-icon"),f=(0,o.up)("q-item"),h=(0,o.up)("q-card"),w=(0,o.up)("q-list"),g=(0,o.up)("q-btn"),y=(0,o.up)("q-page-sticky"),q=(0,o.up)("q-spinner-dots"),_=(0,o.up)("q-infinite-scroll"),W=(0,o.up)("post-detail"),C=(0,o.up)("q-card-section"),D=(0,o.up)("q-card-actions"),k=(0,o.up)("q-dialog"),v=(0,o.up)("post-modify"),Z=(0,o.up)("q-avatar"),Q=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",a,[(0,o.Wm)(_,{onLoad:t.initialize},{loading:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o.Wm)(q,{color:"primary",size:"40px"})])])),default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.posts,((l,a)=>((0,o.wg)(),(0,o.j4)(h,{class:"q-my-md mycard",key:a},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"cursor-pointer",onClick:e=>t.toDetail(l)},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"txt18-000"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(l.title),1)])),_:2},1024),(0,o.Wm)(m,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(l.body),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,o.Wm)(p,{side:""},{default:(0,o.w5)((()=>[(0,o._)("div",null,[t.isAdmin?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(c,{class:"cursor-pointer q-ml-sm",name:"delete",size:"24px",color:"red",onClick:e[0]||(e[0]=e=>t.confirm=!0)}),(0,o.Wm)(c,{class:"cursor-pointer q-ml-sm",name:"edit",size:"24px",color:"yellow",onClick:e=>t.toEdit(l)},null,8,["onClick"])],64)):((0,o.wg)(),(0,o.j4)(c,{key:1,class:"cursor-pointer",name:"favorite",size:"24px",color:t.getColor(l.id),onClick:e=>t.setFavorite(l.id)},null,8,["color","onClick"]))])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),t.isAdmin?((0,o.wg)(),(0,o.j4)(y,{key:0,position:"bottom-right",offset:[24,24]},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{fab:"",icon:"add",color:"primary",onClick:t.toCreate},null,8,["onClick"])])),_:1})):(0,o.kq)("",!0)])])),_:1},8,["onLoad"])]),(0,o.Wm)(k,{modelValue:t.showDetail,"onUpdate:modelValue":e[1]||(e[1]=e=>t.showDetail=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Wm)(W,{postData:t.postData},null,8,["postData"])])),_:1}),(0,o.Wm)(D,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(g,{flat:"",label:"Close",color:"primary"},null,512),[[Q]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(v,{postData:t.postData,isEdit:t.isEdit,show:t.modify,onClose:t.closeModifyDialog},null,8,["postData","isEdit","show","onClose"]),(0,o.Wm)(k,{modelValue:t.confirm,"onUpdate:modelValue":e[2]||(e[2]=e=>t.confirm=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(C,{class:"row items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{icon:"error",color:"red","text-color":"white"}),n])),_:1}),(0,o.Wm)(D,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(g,{flat:"",label:"No",color:"primary"},null,512),[[Q]]),(0,o.wy)((0,o.Wm)(g,{label:"Yes",color:"primary"},null,512),[[Q]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var r=l(5474),u=l(1025);const m={key:0,class:"q-py-md"},p={class:"row q-px-md txt24-000"},c={class:"row q-px-md"},f={class:"q-mt-md"},h=(0,o._)("div",{class:"row q-ml-md txt20-000"}," Comments ",-1);function w(t,e,l,a,s,n){const d=(0,o.up)("q-item-label"),r=(0,o.up)("q-item-section"),u=(0,o.up)("q-item"),w=(0,o.up)("q-list");return t.post?((0,o.wg)(),(0,o.iD)("div",m,[(0,o._)("div",p,[(0,o._)("div",null,(0,i.zw)(t.post.title),1)]),(0,o._)("div",c,(0,i.zw)(t.post.content),1),(0,o._)("div",f,[h,(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.comments,((t,e)=>((0,o.wg)(),(0,o.j4)(u,{key:e},{default:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"txt18-000"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.name),1)])),_:2},1024),(0,o.Wm)(d,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.body),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])])):(0,o.kq)("",!0)}const g=(0,o.aZ)({name:"PostDetail",props:{postData:{type:Object,default:null}},watch:{postData:{immediate:!0,deep:!0,handler(t){this.initialize(t)}}},data:()=>({post:{title:"",content:""},comments:[]}),methods:{initialize(t){this.post.title=t.title,this.post.content=t.body,this.getComments(t.id)},getComments(t){r.api.get("/comments",{params:{postId:t}}).then((t=>{this.comments=t.data})).catch((t=>{console.error(t)}))}}});var y=l(7011),q=l(3414),_=l(2035),W=l(2350),C=l(7518),D=l.n(C);g.render=w;const k=g;D()(g,"components",{QList:y.Z,QItem:q.Z,QItemSection:_.Z,QItemLabel:W.Z});const v=(0,o.aZ)({name:"Post",components:{PostModify:u["default"],PostDetail:k},data:()=>({posts:[],page:1,limit:5,confirm:!1,modify:!1,showDetail:!1,postData:null,isAdmin:!1,isEdit:!1}),created(){JSON.parse(localStorage.getItem("isAdmin"))&&(this.isAdmin=!0)},methods:{toCreate(){this.postData=null,this.isEdit=!1,this.modify=!0},toEdit(t){this.isEdit=!0,this.postData={...t},this.modify=!0},toDetail(t){this.postData={...t},this.showDetail=!0},closeModifyDialog(){this.postData=null,this.isEdit=!1,this.modify=!1},getColor(t){let e="grey-5";if(null!==localStorage.getItem("favorites")){const l=JSON.parse(localStorage.getItem("favorites"));l.includes(t)&&(e="pink-6")}return e},setFavorite(t){if(null===localStorage.getItem("favorites")){const e=[];e.push(t),localStorage.setItem("favorites",JSON.stringify(e))}else{let e=JSON.parse(localStorage.getItem("favorites"));e.includes(t)?e=e.filter((e=>e!==t)):e.push(t),localStorage.setItem("favorites",JSON.stringify(e))}this.initialize()},initialize(t,e){const l={};l._page=t,l._limit=this.limit,r.api.get("/posts",{params:l}).then((t=>{const l=t.data.length;for(let e=0;e<l;e+=1)this.posts.push(t.data[e]);e()})).catch((t=>{console.error(t)}))}}});var Z=l(2729),Q=l(151),b=l(4554),S=l(1007),z=l(6114),I=l(4765),V=l(3379),T=l(5589),x=l(9367),P=l(5096),E=l(677);v.render=d;const U=v;D()(v,"components",{QInfiniteScroll:Z.Z,QList:y.Z,QCard:Q.Z,QItem:q.Z,QItemSection:_.Z,QItemLabel:W.Z,QIcon:b.Z,QPageSticky:S.Z,QBtn:z.Z,QSpinnerDots:I.Z,QDialog:V.Z,QCardSection:T.Z,QCardActions:x.Z,QAvatar:P.Z}),D()(v,"directives",{ClosePopup:E.Z})},1025:(t,e,l)=>{l.r(e),l.d(e,{default:()=>W});var o=l(3673),i=l(2323);const a={class:"row justify-end q-mt-lg"};function s(t,e,l,s,n,d){const r=(0,o.up)("q-toolbar-title"),u=(0,o.up)("q-btn"),m=(0,o.up)("q-toolbar"),p=(0,o.up)("q-header"),c=(0,o.up)("q-input"),f=(0,o.up)("q-form"),h=(0,o.up)("q-page"),w=(0,o.up)("q-page-container"),g=(0,o.up)("q-layout"),y=(0,o.up)("q-dialog"),q=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(y,{modelValue:t.isShow,"onUpdate:modelValue":e[2]||(e[2]=e=>t.isShow=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{view:"Lhh lpR fff",container:"",class:"bg-white",style:{height:"320px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"bg-primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.modalTitle),1)])),_:1}),(0,o.wy)((0,o.Wm)(u,{flat:"",round:"",dense:"",icon:"close",onClick:t.closeDialog},null,8,["onClick"]),[[q]])])),_:1})])),_:1}),(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{padding:""},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{modelValue:t.postTitle,"onUpdate:modelValue":e[0]||(e[0]=e=>t.postTitle=e),label:"Title",autocomplete:"off",spellcheck:"false","lazy-rules":"",autofocus:"",rules:[t=>t&&t.length>0||"This field is required"]},null,8,["modelValue","rules"]),(0,o.Wm)(c,{modelValue:t.postContent,"onUpdate:modelValue":e[1]||(e[1]=e=>t.postContent=e),label:"Body",autocomplete:"off",spellcheck:"false","lazy-rules":"",autofocus:"",rules:[t=>t&&t.length>0||"This field is required"]},null,8,["modelValue","rules"]),(0,o._)("div",a,[(0,o._)("div",null,[(0,o.Wm)(u,{label:"Save",type:"submit",color:"primary"})])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}const n=(0,o.aZ)({name:"PostModify",props:{show:{type:Boolean,default:!1},postData:{type:Object,default:null},isEdit:{type:Boolean,default:!1}},watch:{isEdit:{immediate:!0,handler(t){t?(this.modalTitle="Edit Post",this.mappingCurrentValue()):this.modalTitle="Create Post"}}},computed:{isShow(){let t=!1;return this.show&&(t=!0),t}},data:()=>({modalTitle:"Create Post",postTitle:"",postContent:""}),methods:{closeDialog(){this.postTitle="",this.postContent="",this.$emit("close")},mappingCurrentValue(){this.postTitle=this.postData.title,this.postContent=this.postData.body}}});var d=l(3379),r=l(3066),u=l(3812),m=l(9570),p=l(3747),c=l(6114),f=l(2652),h=l(4379),w=l(8689),g=l(6805),y=l(677),q=l(7518),_=l.n(q);n.render=s;const W=n;_()(n,"components",{QDialog:d.Z,QLayout:r.Z,QHeader:u.Z,QToolbar:m.Z,QToolbarTitle:p.Z,QBtn:c.Z,QPageContainer:f.Z,QPage:h.Z,QForm:w.Z,QInput:g.Z}),_()(n,"directives",{ClosePopup:y.Z})}}]);